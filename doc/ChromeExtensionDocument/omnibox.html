<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="stable/static/css/site.css" rel="stylesheet" type="text/css">
    <link href="stable/static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="stable/static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href="//www.google.com/images/icons/product/chrome-16.png" rel="icon" type="image/ico">
    <link href="stable/static/css/api.css" rel="stylesheet" type="text/css">
    <title>多功能地址栏 - chrome插件中文开发文档(非官方)</title>
</head>
<body>
    <a id="top"></a>
    <div id="header">{Header content}</div>
    <a id="gc-topnav-anchor"></a>
    <div id="gc-topnav">
        <h1>chrome插件中文开发文档(非官方)</h1>
        <ul id="home" class="gc-topnav-tabs">
            <li id="home_link">
                <a href="index.html" title="Google Chrome Extensions home page">
                    <div>主页</div>
                </a>
            </li>
            <li id="docs_link">
                <a href="docs.html" title="Official Google Chrome Extensions documentation">
                    <div>文档</div>
                </a>
            </li>
            <li id="faq_link">
                <a href="faq.html" title="Answers to frequently asked questions about Google Chrome Extensions">
                    <div>常见问题</div>
                </a>
            </li>
            <li id="samples_link">
                <a href="samples.html" title="Sample Extensions (with source code)">
                    <div>示例</div>
                </a>
            </li>
            <li id="group_link">
                <a href="http://groups.google.com/a/chromium.org/group/chromium-extensions" title="Google Chrome Extensions developer forum">
                    <div>google群组(英文)</div>
                </a>
            </li>
            <li id="so_link">
                <a href="http://stackoverflow.com/questions/tagged/google-chrome-extension" title="[google-chrome-extension] tag on Stack Overflow">
                    <div>还有问题?(英文)</div>
                </a>
            </li>
        </ul>
    </div>
    <div id="gc-container">
        <div id="gc-sidebar">
            <ul
                class="level1 ">
                <li class="level2">
                    <a href="getstarted.html" class="level2 ">入门</a>
                </li>
                <li class="level2">
                    <a href="overview.html" class="level2 ">概述</a>
                </li>
                <li class="level2">
                    <a href="whats_new.html" class="level2 ">新功能</a>
                </li>
                <li class="level2">
                    <a href="devguide.html" class="level2 ">开发者指南</a>
                    <ul
                        class="level2 ">
                        <li class="level3">
                            <a class="button level3">
                                <span class="level3">用户界面</span>
                                <div class="toggleIndicator level3"></div>
                            </a>
                            <ul toggleable
                                class="level3 hidden">
                                <li class="level4">
                                    <a href="browserAction.html" class="level4 ">浏览器按钮</a>
                                </li>
                                <li class="level4">
                                    <a href="contextMenus.html" class="level4 ">右键菜单</a>
                                </li>
                                <li class="level4">
                                    <a href="notifications.html" class="level4 ">桌面通知</a>
                                </li>
                                <li class="level4">
                                    <a href="omnibox.html" class="level4 ">多功能地址栏</a>
                                </li>
                                <li class="level4">
                                    <a href="options.html" class="level4 ">选项页面</a>
                                </li>
                                <li class="level4">
                                    <a href="override.html" class="level4 ">代替页面</a>
                                </li>
                                <li class="level4">
                                    <a href="pageAction.html" class="level4 ">页面按钮</a>
                                </li>
                            </ul>
                        </li>
                        <li class="level3">
                            <a class="button level3">
                                <span class="level3">浏览器交互</span>
                                <div class="toggleIndicator level3"></div>
                            </a>
                            <ul toggleable
                                class="level3 hidden">
                                <li class="level4">
                                    <a href="bookmarks.html" class="level4 ">书签</a>
                                </li>
                                <li class="level4">
                                    <a href="cookies.html" class="level4 ">Cookies</a>
                                </li>
                                <li class="level4">
                                    <a href="devtools.html" class="level4 ">开发人员工具</a>
                                </li>
                                <li class="level4">
                                    <a href="events.html" class="level4 ">事件</a>
                                </li>
                                <li class="level4">
                                    <a href="history.html" class="level4 ">历史记录</a>
                                </li>
                                <li class="level4">
                                    <a href="management.html" class="level4 ">管理</a>
                                </li>
                                <li class="level4">
                                    <a href="tabs.html" class="level4 ">标签页</a>
                                </li>
                                <li class="level4">
                                    <a href="windows.html" class="level4 ">窗口</a>
                                </li>
                            </ul>
                        </li>
                        <li class="level3">
                            <a class="button level3">
                                <span class="level3">实现</span>
                                <div class="toggleIndicator level3"></div>
                            </a>
                            <ul toggleable
                                class="level3 hidden">
                                <li class="level4">
                                    <a href="a11y.html" class="level4 ">辅助功能</a>
                                </li>
                                <li class="level4">
                                    <a href="event_pages.html" class="level4 ">事件页面</a>
                                </li>
                                <li class="level4">
                                    <a href="contentSecurityPolicy.html" class="level4 ">内容安全策略(CSP)</a>
                                </li>
                                <li class="level4">
                                    <a href="content_scripts.html" class="level4 ">内容脚本</a>
                                </li>
                                <li class="level4">
                                    <a href="xhr.html" class="level4 ">跨站XMLHttpRequest</a>
                                </li>
                                <li class="level4">
                                    <a href="i18n.html" class="level4 ">国际化</a>
                                </li>
                                <li class="level4">
                                    <a href="messaging.html" class="level4 ">消息传递</a>
                                </li>
                                <li class="level4">
                                    <a href="permissions.html" class="level4 ">可选权限</a>
                                </li>
                                <li class="level4">
                                    <a href="npapi.html" class="level4 ">NPAPI插件</a>
                                </li>
                            </ul>
                        </li>
                        <li class="level3">
                            <a class="button level3">
                                <span class="level3">完成</span>
                                <div class="toggleIndicator level3"></div>
                            </a>
                            <ul toggleable
                                class="level3 hidden">
                                <li class="level4">
                                    <a href="hosting.html" class="level4 ">托管</a>
                                </li>
                                <li class="level4">
                                    <a href="external_extensions.html" class="level4 ">其他部署方案</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="level2">
                    <a href="tutorials.html" class="level2 ">教程</a>
                    <ul
                        class="level2 ">
                        <li class="level3">
                            <a href="tut_migration_to_manifest_v2.html" class="level3 ">清单文件V2</a>
                        </li>
                        <li class="level3">
                            <a href="tut_debugging.html" class="level3 ">调试</a>
                        </li>
                        <li class="level3">
                            <a href="tut_analytics.html" class="level3 ">Google Analytics(分析)</a>
                        </li>
                        <li class="level3">
                            <a href="tut_oauth.html" class="level3 ">OAuth</a>
                        </li>
                    </ul>
                </li>
                <li class="level2">
                    <span class="level2">参考</span>
                    <ul
                        class="level2 ">
                        <li class="level3">
                            <a class="button level3">
                                <span class="level3">格式</span>
                                <div class="toggleIndicator level3"></div>
                            </a>
                            <ul toggleable
                                class="level3 hidden">
                                <li class="level4">
                                    <a href="manifest.html" class="level4 ">清单文件</a>
                                </li>
                                <li class="level4">
                                    <a href="match_patterns.html" class="level4 ">匹配表达式</a>
                                </li>
                            </ul>
                        </li>
                        <li class="level3">
                            <a href="permission_warnings.html" class="level3 ">权限警告</a>
                        </li>
                        <li class="level3">
                            <a href="api_index.html" class="level3 ">chrome.* APIs</a>
                        </li>
                        <li class="level3">
                            <a href="api_other.html" class="level3 ">其他APIs</a>
                        </li>
                    </ul>
                </li>
                <li class="level2">
                    <span class="level2">更多</span>
                    <ul
                        class="level2 ">
                        <li class="level3">
                            <a href="http://code.google.com/chrome/webstore/docs/index.html" class="level3 ">chrome商店</a>
                        </li>
                        <li class="level3">
                            <a href="http://code.google.com/chrome/apps/docs/developers_guide.html" class="level3 ">托管应用程序</a>
                        </li>
                        <li class="level3">
                            <a href="themes.html" class="level3 ">主题</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div id="gc-pagecontent">
            <h1 class="page_title">多功能地址栏（chrome.omnibox）</h1>



            <div id="toc">
                <h2>内容</h2>
                <ol>
                    <li>
                        <a href="#manifest">清单文件</a>
                    </li>
                    <li>
                        <a href="#examples">例子</a>
                    </li>
                    <li>
                        <a href="#apiReference">API参考: chrome.omnibox</a>
                        <ol>
                            <li><a href="#types">类型</a><ol>
                                <li><a href="#type-SuggestResult">SuggestResult</a>  </li>
                            </ol>
                            </li>

                            <li><a href="#methods">方法</a><ol>
                                <li><a href="#method-setDefaultSuggestion">setDefaultSuggestion</a></li>
                            </ol>
                            </li>
                            <li><a href="#events">事件</a><ol>
                                <li><a href="#event-onInputStarted">onInputStarted</a></li>
                                <li><a href="#event-onInputChanged">onInputChanged</a></li>
                                <li><a href="#event-onInputEntered">onInputEntered</a></li>
                                <li><a href="#event-onInputCancelled">onInputCancelled</a></li>
                            </ol>
                            </li>
                            <li><a href="#samples">示例扩展</a></li>
                        </ol>
                    </li>
                </ol>
            </div>

            <p>
                多功能地址栏API允许您在Google Chrome浏览器的地址栏（又叫多功能地址栏）中注册一个关键字。
            </p>

            <p>
                <img src="stable/static/images/omnibox.png" width="300" height="150"
                    alt="A screenshot showing suggestions related to the keyword 'Chromium Search'" />
            </p>

            <p>
                当用户输入您的扩展程序的关键字时，用户开始完全与您的扩展程序交互。每一次按键消息都将发送至您的扩展程序，您可以作出回应，提供建议。
            </p>

            <p>
                建议可以具有各种不同格式。当用户接受某个建议时，将通知您的扩展程序作出反应。
            </p>

            <h2 id="manifest">Manifest</h2>

            <p>
                您必须在<a href="manifest.html">清单文件</a>中包含<code>omnibox</code> <code>keyword</code>
                属性来使用多功能地址栏API，您还应该指定一个16×16像素的图标，当用户进入关键字模式时，显示在地址栏中。
            </p>

            <p>
                例如：
            </p>

            <pre>{
  "name": "Aaron的多功能地址栏扩展",
  "version": "1.0",
  <b>"omnibox": { "keyword" : "aaron" },</b>
  <b>"icons": {</b>
    <b>"16": "16-full-color.png"</b>
  <b>},</b>
  "background": {
    "persistent": false,
    "scripts": ["background.js"]
  }
}</pre>

            <p class="note">
                <strong>注意:</strong>
                Chrome浏览器会自动创建您的16×16像素图标的灰度版本。您应该提供彩色的图标，以便用于其它需要颜色的情况，例如，
   
                <a href="contextMenus.html">右键菜单API</a>也使用16×16像素的图标，但是显示为彩色。
            </p>


            <h2 id="examples">例子</h2>

            <p>
                您可以在
                <a href="samples.html#omnibox">示例页面</a>找到这一API的例子。
       
                <h2 id="apiReference">API参考: chrome.omnibox</h2>
                <div class="api_reference">
                    <h3 id="types">类型</h3>
                    <div>
                        <h3 id="type-SuggestResult">SuggestResult</h3>
                        <div>
                            <dt><span class="type_name">(    <span id="typeTemplate">object</span>  )</span></dt>
                            <dd>建议结果。
                  </dd>
                            <h4 id="SuggestResult-properties">
                                <a href="#type-SuggestResult">SuggestResult</a>属性
                  </h4>
                            <dd>
                                <dl>
                                    <div>
                                        <a name="property-SuggestResult-content"></a>
                                        <dt>
                                            <span class="variable">content</span>
                                            <span class="property">(
                            
                           

                                                <span id="typeTemplate">string</span>
                                                )
                        </span>
                                        </dt>
                                        <dd>输入在地址栏中的文字，当用户选择这一项时发送给扩展程序。
                      </dd>
                                    </div>
                                    <div>
                                        <a name="property-SuggestResult-description"></a>
                                        <dt>
                                            <span class="variable">description</span>
                                            <span class="property">(
                            
                           

                                                <span id="typeTemplate">string</span>
                                                )
                        </span>
                                        </dt>
                                        <dd>显示在地址栏下拉框中的文字，可以包含XML样式标记。支持的标记为&lt;url>（用于字面的URL）、&lt;match>（用于匹配用户查询的高亮文本）和&lt;dim>（用于帮助文本的浅色效果）。样式也可以嵌套，例如匹配文本同时使用浅色效果。
                      </dd>
                                    </div>
                                </dl>
                            </dd>
                        </div>
                    </div>
                    <h3 id="methods">方法</h3>
                    <div>
                        <h4 id="method-setDefaultSuggestion">setDefaultSuggestion</h4>
                        <div class="summary lower">
                            <span>chrome.omnibox.setDefaultSuggestion</span>(<span>object <span class="variable">suggestion</span></span>)
               
                        </div>
                        <div class="description">
                            <p>
                                设置默认建议的描述和样式，默认建议即显示在URL栏下的第一行建议。
                 
                            </p>
                            <h4>参数</h4>
                            <dl>
                                <div><a name="property-setDefaultSuggestion-suggestion"></a>
                                    <dt><span class="variable">suggestion</span>    <span class="property">(                <span id="typeTemplate">object</span>      )    </span></dt>
                                    <dd> 具有部分内容的SuggestResult对象，没有"content"参数。有关参数的描述请参见SuggestResult。</dd>
                                    <dd>
                                        <dl>
                                            <div><a name="property-suggestion-description"></a>
                                                <dt><span class="variable">description</span>          <span class="property">(                            <span id="typeTemplate">string</span>            )          </span></dt>
                                                <dd>显示在默认建议中的文字，可以包含占位符字符串“%s”，表示用户的输入。       </dd>
                                            </div>
                                        </dl>
                                    </dd>
                                </div>
                            </dl>

                        </div>
                    </div>
                    <h3 id="events">事件</h3>
                    <div>
                        <h4 id="event-onInputStarted">onInputStarted</h4>
                        <div class="summary">
                            <span class="subdued">chrome.omnibox.</span>onInputStarted<span class="subdued">.addListener</span>(function()<span class="subdued"> {...}</span>);
               
                        </div>
                        <div class="description">
                            <p>
                               用户输入了扩展程序的关键字，开始关键字输入会话。这一事件确保每次进入输入会话时发送一次，并且在任何onInputChanged事件之前发生。
                 
                            </p>
                        </div>
                    </div>
                    <div>
                        <h4 id="event-onInputChanged">onInputChanged</h4>
                        <div class="summary">
                            <span class="subdued">chrome.omnibox.</span>onInputChanged<span class="subdued">.addListener</span>(function(<span>string <span class="variable">text</span></span>)<span class="subdued"> {...}</span>);
               
                        </div>
                        <div class="description">
                            <p>
                                用户更改了输入在多功能地址栏中的内容。
                 
                            </p>
                            <h4>监听参数</h4>
                            <dl>
                                <div><a name="property-onInputChanged-text"></a>
                                    <dt><span class="variable">text</span>    <span class="property">(                <span id="typeTemplate">string</span>      )    </span></dt>
                                </div>
                            </dl>
                            <h4>回调函数</h4>
                            <p>
                                <em>suggest</em>应该指定一个如下形式的函数：
                   
                            </p>
                            <pre>function(array of <a href="omnibox.html#type-SuggestResult">SuggestResult</a> suggestResults) <span class="subdued">{...}</span>;</pre>
                            <dl>
                                <div><a name="property-suggest-suggestResults"></a>
                                    <dt><span class="variable">suggestResults</span>    <span class="property">(                <span id="typeTemplate">array of <a href="omnibox.html#type-SuggestResult">SuggestResult</a></span>      )    </span></dt>
                                    <dd>包含建议结果的数组。 </dd>
                                </div>
                            </dl>
                        </div>
                    </div>
                    <div>
                        <h4 id="event-onInputEntered">onInputEntered</h4>
                        <div class="summary">
                            <span class="subdued">chrome.omnibox.</span>onInputEntered<span class="subdued">.addListener</span>(function(<span>string <span class="variable">text</span></span>)<span class="subdued"> {...}</span>);
               
                        </div>
                        <div class="description">
                            <p>
                                用户接受了输入在多功能地址栏中的内容。
                 
                            </p>
                            <h4>监听参数</h4>
                            <dl>
                                <div><a name="property-onInputEntered-text"></a>
                                    <dt><span class="variable">text</span>    <span class="property">(                <span id="typeTemplate">string</span>      )    </span></dt>
                                </div>
                            </dl>
                        </div>
                    </div>
                    <div>
                        <h4 id="event-onInputCancelled">onInputCancelled</h4>
                        <div class="summary">
                            <span class="subdued">chrome.omnibox.</span>onInputCancelled<span class="subdued">.addListener</span>(function()<span class="subdued"> {...}</span>);
               
                        </div>
                        <div class="description">
                            <p>
                                用户结束了关键字输入，没有接受输入。
                 
                            </p>
                        </div>
                    </div>
                </div>
                <h2 id="samples">使用chrome.omnibox的示例扩展</h2>
                <li><strong><a href="samples.html#be68e4d262d74d2457999fc402f5bf5e">Omnibox Example</a></strong> &ndash;
            To use, type 'omnix' plus a search term into the Omnibox.
        </li>
                <li><strong><a href="samples.html#8ef667a213d47272dacd8a4dc0bc97af">Chromium Search</a></strong> &ndash;
            Add support to the omnibox to search the Chromium source code.
        </li>
        </div>
    </div>
</body>
<script>
    window.bootstrap = {
        api_names: [{ "name": "alarms" }, { "name": "bookmarks" }, { "name": "browserAction" }, { "name": "browsingData" }, { "name": "commands" }, { "name": "contentSettings" }, { "name": "contextMenus" }, { "name": "cookies" }, { "name": "debugger" }, { "name": "declarativeWebRequest" }, { "name": "devtools.inspectedWindow" }, { "name": "devtools.network" }, { "name": "devtools.panels" }, { "name": "downloads" }, { "name": "events" }, { "name": "extension" }, { "name": "fileBrowserHandler" }, { "name": "fontSettings" }, { "name": "history" }, { "name": "i18n" }, { "name": "idle" }, { "name": "input.ime" }, { "name": "management" }, { "name": "omnibox" }, { "name": "pageAction" }, { "name": "pageCapture" }, { "name": "permissions" }, { "name": "privacy" }, { "name": "proxy" }, { "name": "runtime" }, { "name": "scriptBadge" }, { "name": "storage" }, { "name": "tabs" }, { "name": "topSites" }, { "name": "tts" }, { "name": "ttsEngine" }, { "name": "types" }, { "name": "webNavigation" }, { "name": "webRequest" }, { "name": "webstore" }, { "last": true, "name": "windows" }].concat(
            [{ "name": "experimental.bluetooth" }, { "name": "experimental.devtools.audits" }, { "name": "experimental.devtools.console" }, { "name": "experimental.discovery" }, { "name": "experimental.identity" }, { "name": "experimental.infobars" }, { "name": "experimental.offscreenTabs" }, { "name": "experimental.processes" }, { "name": "experimental.record" }, { "name": "experimental.speechInput" }, { "name": "experimental.systemInfo.cpu" }, { "name": "experimental.systemInfo.storage" }, { "last": true, "name": "experimental.usb" }]),
        branchInfo: { "channels": [{ "path": "stable", "name": "Stable" }, { "path": "dev", "name": "Dev" }, { "path": "beta", "name": "Beta" }, { "path": "trunk", "name": "Trunk" }], "current": "stable", "showWarning": false }
    };
  </script>
<div id="gc-footer">
    <div class="text">
        <p>
            Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
       
            <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.
     
        </p>
        <p>
            ©2012 Google
     
        </p>
        <script src="stable/static/js/branch.js" type="text/javascript"></script>
        <script src="stable/static/js/sidebar.js" type="text/javascript"></script>
        <script src="stable/static/js/prettify.js" type="text/javascript"></script>
        <script>
            (function () {
                // Auto syntax highlight all pre tags.
                var preElements = document.getElementsByTagName('pre');
                for (var i = 0; i < preElements.length; i++)
                    preElements[i].classList.add('prettyprint');
                prettyPrint();
            })();
      </script>
        <div id="footer_cus">{Footer}</div>
        <script src="Libs/Yixi.js"></script>
        <script src="http://s9.cnzz.com/stat.php?id=4928336&web_id=4928336" language="JavaScript"></script>

    </div>
</div>
</html>
